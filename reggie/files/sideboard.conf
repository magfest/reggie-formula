{%- from 'reggie/map.jinja' import reggie with context -%}
# THIS FILE IS MANAGED BY SALT

debug = {{ reggie.debug }}
priority_plugins = {{ reggie.priority_plugins }}

[cherrypy]
server.socket_host = {{ reggie.web.host }}
server.socket_port = {{ reggie.web.port }}
engine.autoreload.on = {{ reggie.web.autoreload }}

tools.sessions.storage_type = {{ reggie.sessions.storage_type }}
tools.sessions.host = {{ reggie.sessions.host }}
tools.sessions.port = {{ reggie.sessions.port }}
tools.sessions.password = {{ reggie.sessions.password }}
tools.sessions.timeout = 4320  # 3 days (in minutes)

tools.proxy.on = True
tools.proxy.debug = False

server.thread_pool = 100
server.socket_timeout = 1

[loggers]
{% for logger_name, logger_level in reggie.loggers.items() -%}
{{ logger_name }} = "{{ logger_level }}"
{% endfor %}

[handlers]
{% for log_handler_name, log_handler in reggie.log_handlers.items() %}
[[{{ log_handler_name }}]]
{% for key, value in log_handler.items() -%}
{{ key }} = "{{ value }}"
{% endfor %}
{% endfor %}
